<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
  crossorigin="anonymous">
  <link rel="stylesheet" href="css/csapp.css" media="screen" title="no title" charset="utf-8">
  <title>Flatlanders' Store</title>
</head>
<body ng-app="store" ng-controller="StoreController as store" >
  {{"Welcome"}}
  <ul class="list-group">
    <li class="list-group-item" ng-repeat="product in store.products" ng-hide="product.soldOut">
      <h3>
        {{product.name}}
        <em class="pull-right">{{product.price | currency}}</em>
        <!-- Image Gallery  -->
        <div class="gallery" ng-show="product.images.length" ng-controller="GalleryController as gallery">
          <img ng-src="{{product.images[gallery.current].full}}" alt="product image" />
          <ul class="list-inline thumbs">
            <li class="thumbnail" ng-repeat="image in product.images">
              <img ng-src="{{image.thumb}}" />
            </li>
          </ul>
        </div>
      </h3>
      <section ng-controller="PanelController as panel">
        <ul class="nav nav-pills">
          <li ng-class="{ active: panel.isSelected(1) }">
            <a href ng-click="panel.selectTab(1)">Description</a>
          </li>
          <li ng-class="{ active: panel.isSelected(2) }">
            <a href ng-click="panel.selectTab(2)">Specifications</a>
          </li>
          <li ng-class="{ active: panel.isSelected(3) }">
            <a href ng-click="panel.selectTab(3)">Reviews</a>
          </li>
        </ul>
        <div class="panel" ng-show="panel.isSelected(1)">
          <h4>Description</h4>
          <p>{{product.description}}</p>
        </div>
        <div class="panel" ng-show="panel.isSelected(2)">
          <h4>Specifications</h4>
          <p><strong>Shine: </strong>{{product.shine}}</p>
          <p><strong>Rarity: </strong>{{product.rarity}}</p>
          <p><strong>Faces: </strong>{{product.faces}}</p>
          <div ng-style="{'background-color': '{{product.color}}'}"><strong>Color</strong></div>
        </div>
        <div class="panel" ng-show="panel.isSelected(3)">
          <h4>Reviews</h4>
          <li ng-repeat="review in product.reviews">
            <blockquote>
              <strong>{{review.stars}} Stars</strong>
              {{review.body}}
              <cite class="clearfix">â€”{{review.author}} on {{review.createdOn | date}}</cite>
            </blockquote>
          </li>
          <form name="reviewForm" ng-controller="ReviewController as reviewCtrl"
          ng-submit="reviewForm.$valid && reviewCtrl.addReview(product)" novalidate>
            <blockquote>
              <strong>Stars: {{reviewCtrl.review.stars}}</strong>
              {{reviewCtrl.review.body}}
              <cite class="clearfix">-{{reviewCtrl.review.author}}</cite>
            </blockquote>
            <h4>Submit a Review</h4>
            <fieldset class="form-group">
              <select class="form-control" ng-options="stars for stars in [5,4,3,2,1]"  title="Stars"
              ng-model="reviewCtrl.review.stars" required>
                <option value="">Rate the Product</option>
              </select>
            </fieldset>
            <fieldset class="form-group">
              <textarea class="form-control" placeholder="Write a short review of the product..."
                title="Review" ng-model="reviewCtrl.review.body" required></textarea>
            </fieldset>
            <fieldset class="form-group">
              <input type="email" class="form-control" placeholder="jimmyDean@example.org"
              title="Email" ng-model="reviewCtrl.review.author" required/>
            </fieldset>
            <fieldset class="form-group">
              <input type="submit" class="btn btn-primary pull-right" value="Submit Review" />
            </fieldset>
          </form>
        </div>
      </section>
    </li>
  </ul>
  <!--<div ng-repeat="product in store.products">
    <div ng-hide="store.product.soldOut">
      <h1> {{product.name}} </h1>
      <h2> ${{product.price}}</h2>
      <p> {{product.description}} </p>
      <button type="button" name="button" ng-show="product.canPurchase">Add to cart</button>
    </div>
  </div> -->

  <!-- Imports -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"
  charset="utf-8"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
    integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
    crossorigin="anonymous" charset="utf-8"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.5/angular.min.js"
   charset="utf-8">
  ></script>
  <!-- Local Files-->
  <script type="text/javascript" src="js/codeschoolapp.js" charset="utf-8"></script>
</body>
</html>
